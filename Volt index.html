<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Volt - Power Your Sound</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        /* CORE BRANDING & UI */
        :root {
            --deep-black: #050505;
            --dark-surface: #141414;
            --vibrant-orange: #FF6A00;
            --text-primary: #FFFFFF;
            --text-secondary: #888888;
            --border-color: #222222;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background-color: var(--deep-black); color: var(--text-primary); overflow: hidden; }
        .app-container { display: flex; flex-direction: column; height: 100vh; }

        /* Custom Scrollbar for Tracklist */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: var(--deep-black); }
        ::-webkit-scrollbar-thumb { background: var(--dark-surface); border-radius: 10px; }
        ::-webkit-scrollbar-thumb:hover { background: #333; }

        /* Header */
        header { text-align: center; padding: 40px 20px 20px; background-color: var(--deep-black); position: relative; z-index: 10; }
        .logo-container { display: flex; align-items: center; justify-content: center; gap: 12px; }
        h1 { font-size: 2.2rem; letter-spacing: 3px; font-weight: 800; text-transform: uppercase; }
        .tagline { color: var(--text-secondary); font-size: 0.7rem; letter-spacing: 4px; margin-top: 8px; font-weight: 500; }

        /* Waveform Logo */
        .flame-waveform { display: flex; align-items: flex-end; gap: 4px; height: 32px; }
        .bar { width: 7px; background-color: var(--vibrant-orange); border-radius: 4px 4px 0 0; }
        .bar-1 { height: 16px; }
        .bar-2 { height: 32px; border-radius: 50% 50% 0 0; box-shadow: 0 0 10px rgba(255, 106, 0, 0.4); } 
        .bar-3 { height: 22px; }

        /* Main Library */
        main { flex: 1; overflow-y: auto; padding: 0 20px 120px 20px; }
        .folder-import { text-align: center; margin: 20px 0 30px; }
        
        .btn-primary { 
            background-color: var(--dark-surface); color: var(--vibrant-orange); 
            border: 1px solid rgba(255, 106, 0, 0.3); padding: 14px 28px; 
            border-radius: 30px; font-weight: 700; font-size: 0.9rem; letter-spacing: 1px;
            display: inline-flex; align-items: center; gap: 8px; cursor: pointer; 
            transition: all 0.3s ease; text-transform: uppercase;
        }
        .btn-primary:active { background-color: var(--vibrant-orange); color: var(--deep-black); transform: scale(0.98); }
        .btn-primary svg { width: 18px; height: 18px; fill: currentColor; }

        /* Track List */
        .track-list { list-style: none; display: flex; flex-direction: column; gap: 8px; }
        .track-item { 
            display: flex; align-items: center; gap: 15px;
            padding: 16px; background-color: var(--dark-surface); border-radius: 12px;
            color: var(--text-secondary); cursor: pointer; transition: all 0.2s ease; 
            border: 1px solid transparent;
        }
        .track-item .track-number { font-size: 0.85rem; font-weight: 700; width: 20px; text-align: center; opacity: 0.5; }
        .track-item .track-name { font-size: 0.95rem; font-weight: 500; flex: 1; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        
        .track-item:active { background-color: #1A1A1A; }
        .track-item.active { border-color: rgba(255, 106, 0, 0.2); color: var(--text-primary); }
        .track-item.active .track-number { color: var(--vibrant-orange); opacity: 1; }
        .track-item.active .track-name { font-weight: 700; }

        /* Mini Player Card */
        .mini-player-wrapper { position: fixed; bottom: 20px; left: 20px; right: 20px; z-index: 50; }
        .mini-player { 
            background-color: rgba(20, 20, 20, 0.95); backdrop-filter: blur(10px);
            border: 1px solid var(--border-color); border-radius: 16px;
            padding: 16px 20px; display: flex; flex-direction: column; gap: 12px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        
        /* Progress Bar */
        .progress-container { width: 100%; height: 6px; background: #2A2A2A; border-radius: 3px; cursor: pointer; position: relative; overflow: hidden; }
        .progress-bar { height: 100%; background: var(--vibrant-orange); width: 0%; border-radius: 3px; transition: width 0.1s linear; }
        .time-info { display: flex; justify-content: space-between; font-size: 0.7rem; color: var(--text-secondary); font-weight: 500; margin-top: 4px; }

        /* Player Controls layout */
        .player-row { display: flex; justify-content: space-between; align-items: center; }
        
        #track-title { font-size: 0.95rem; font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 50vw; }
        #track-artist { font-size: 0.75rem; color: var(--text-secondary); margin-top: 2px; }
        
        .controls { display: flex; align-items: center; gap: 15px; }
        .control-btn { background: none; border: none; color: var(--text-primary); cursor: pointer; display: flex; align-items: center; justify-content: center; transition: color 0.2s; }
        .control-btn svg { width: 24px; height: 24px; fill: currentColor; }
        .control-btn:active { color: var(--vibrant-orange); }
        
        .play-btn-circle { background-color: var(--vibrant-orange); color: var(--deep-black); width: 44px; height: 44px; border-radius: 50%; display: flex; align-items: center; justify-content: center; }
        .play-btn-circle svg { width: 20px; height: 20px; fill: currentColor; margin-left: 2px; /* slight visual center offset for play icon */ }
        .play-btn-circle.paused svg { margin-left: 0; }
    </style>
</head>
<body>
    <div class="app-container">
        <header>
            <div class="logo-container">
                <div class="flame-waveform">
                    <div class="bar bar-1"></div>
                    <div class="bar bar-2"></div>
                    <div class="bar bar-3"></div>
                </div>
                <h1>VOLT</h1>
            </div>
            <p class="tagline">POWER YOUR SOUND</p>
        </header>

        <main>
            <div class="folder-import">
                <label for="music-folder" class="btn-primary">
                    <svg viewBox="0 0 24 24"><path d="M9.17 6H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2h-8.83l-2-2z"/></svg>
                    Load Music Library
                </label>
                <input type="file" id="music-folder" multiple accept="audio/*, .m4a, .mp3, .wav" style="display: none;">
            </div>
            <ul id="playlist" class="track-list"></ul>
        </main>

        <div class="mini-player-wrapper">
            <div class="mini-player">
                <div>
                    <div class="progress-container" id="progress-container">
                        <div class="progress-bar" id="progress-bar"></div>
                    </div>
                    <div class="time-info">
                        <span id="current-time">0:00</span>
                        <span id="total-time">0:00</span>
                    </div>
                </div>

                <div class="player-row">
                    <div class="now-playing-info">
                        <div id="track-title">Ready to play</div>
                        <div id="track-artist">Select a track</div>
                    </div>
                    
                    <div class="controls">
                        <button id="prev-btn" class="control-btn">
                            <svg viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
                        </button>
                        
                        <button id="play-pause-btn" class="control-btn play-btn-circle paused">
                            <svg id="icon-play" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
                            <svg id="icon-pause" viewBox="0 0 24 24" style="display: none;"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
                        </button>
                        
                        <button id="next-btn" class="control-btn">
                            <svg viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
                        </button>
                    </div>
                </div>
                <audio id="audio-engine"></audio>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const folderInput = document.getElementById('music-folder');
            const playlistEl = document.getElementById('playlist');
            const audioEngine = document.getElementById('audio-engine');
            
            // UI Elements
            const playPauseBtn = document.getElementById('play-pause-btn');
            const iconPlay = document.getElementById('icon-play');
            const iconPause = document.getElementById('icon-pause');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const trackTitleEl = document.getElementById('track-title');
            const trackArtistEl = document.getElementById('track-artist');
            
            // Progress Bar Elements
            const progressBar = document.getElementById('progress-bar');
            const progressContainer = document.getElementById('progress-container');
            const currentTimeEl = document.getElementById('current-time');
            const totalTimeEl = document.getElementById('total-time');

            let songs = [];
            let currentTrackIndex = 0;

            // 1. Handle File Import
            folderInput.addEventListener('change', (event) => {
                const files = Array.from(event.target.files);
                songs = files.filter(file => file.type.startsWith('audio/') || /\.(mp3|m4a|wav|aac|ogg|flac)$/i.test(file.name));
                
                if (songs.length > 0) {
                    renderPlaylist();
                    trackTitleEl.textContent = `${songs.length} Tracks Loaded`;
                    trackArtistEl.textContent = "Volt Audio Engine Active";
                }
            });

            // 2. Render Premium Playlist
            function renderPlaylist() {
                playlistEl.innerHTML = ''; 
                songs.forEach((song, index) => {
                    const li = document.createElement('li');
                    li.className = 'track-item';
                    
                    const numSpan = document.createElement('span');
                    numSpan.className = 'track-number';
                    numSpan.textContent = index + 1;
                    
                    const nameSpan = document.createElement('span');
                    nameSpan.className = 'track-name';
                    nameSpan.textContent = song.name.replace(/\.[^/.]+$/, ""); 
                    
                    li.appendChild(numSpan);
                    li.appendChild(nameSpan);
                    
                    li.addEventListener('click', () => playSong(index));
                    playlistEl.appendChild(li);
                });
            }

            // 3. Play Logic
            function playSong(index) {
                if (index < 0 || index >= songs.length) return;
                
                currentTrackIndex = index;
                const song = songs[index];
                
                audioEngine.src = URL.createObjectURL(song);
                audioEngine.play();
                
                // Update UI Text
                trackTitleEl.textContent = song.name.replace(/\.[^/.]+$/, "");
                trackArtistEl.textContent = "Local Audio File";
                
                updatePlayButtonState(true);
                
                // Highlight active track
                document.querySelectorAll('.track-item').forEach((item, i) => {
                    if (i === index) item.classList.add('active');
                    else item.classList.remove('active');
                });
            }

            // 4. Update Play/Pause Button Icon
            function updatePlayButtonState(isPlaying) {
                if (isPlaying) {
                    iconPlay.style.display = 'none';
                    iconPause.style.display = 'block';
                    playPauseBtn.classList.remove('paused');
                } else {
                    iconPlay.style.display = 'block';
                    iconPause.style.display = 'none';
                    playPauseBtn.classList.add('paused');
                }
            }

            // 5. Play/Pause Control
            playPauseBtn.addEventListener('click', () => {
                if (songs.length === 0) return;
                
                if (audioEngine.paused) {
                    audioEngine.play();
                    updatePlayButtonState(true);
                } else {
                    audioEngine.pause();
                    updatePlayButtonState(false);
                }
            });

            // 6. Next & Previous Controls
            nextBtn.addEventListener('click', () => playSong(currentTrackIndex + 1));
            prevBtn.addEventListener('click', () => playSong(currentTrackIndex - 1));
            audioEngine.addEventListener('ended', () => playSong(currentTrackIndex + 1));

            // 7. Update Progress Bar & Timestamps
            audioEngine.addEventListener('timeupdate', () => {
                if (audioEngine.duration) {
                    const progressPercent = (audioEngine.currentTime / audioEngine.duration) * 100;
                    progressBar.style.width = `${progressPercent}%`;
                    
                    currentTimeEl.textContent = formatTime(audioEngine.currentTime);
                    totalTimeEl.textContent = formatTime(audioEngine.duration);
                }
            });

            // 8. Click to Seek in Progress Bar
            progressContainer.addEventListener('click', (e) => {
                if (!audioEngine.duration) return;
                const clickX = e.offsetX;
                const width = progressContainer.clientWidth;
                const targetTime = (clickX / width) * audioEngine.duration;
                audioEngine.currentTime = targetTime;
            });

            // Helper: Format seconds into MM:SS
            function formatTime(seconds) {
                const mins = Math.floor(seconds / 60);
                const secs = Math.floor(seconds % 60);
                return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
            }
        });
    </script>
</body>
</html>